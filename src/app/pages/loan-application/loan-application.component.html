<div class="container body_01">
    <div class="row">
      <div class="col-md-7">
        <div class="form-container ">
          <h2 class="text-center mb-4">Application Form</h2>
          <form>
            <div class="row">
            <div class="col-md-12 mb-3">
              <label for="fullName" class="form-label">Full Name</label>
              <input type="text" class="form-control" [(ngModel)]="application.fullName" name="fullName" id="fullName" placeholder="Enter your full name">
            </div>
            <div class="col-md-4 mb-3">                                                                                                                                                                                                                                                                                                                                                                                                                                        
              <label for="dob" class="form-label">Date of Birth</label>
              <input type="date" class="form-control" [(ngModel)]="application.dateOfBirth" name="dob" id="dob">
            </div>
            <div class="col-md-4 mb-3">
              <label for="email" class="form-label">Email ID</label>
              <input type="email" class="form-control" [(ngModel)]="application.email" id="email" name="email" placeholder="Enter your email">
            </div>
            <div class="col-md-4 mb-3">
              <label for="text" class="form-label">Enter Your Pan Number</label>
              <input type="text" class="form-control" [(ngModel)]="application.panCard" id="panCard" name="panCard" placeholder="Enter Your Pan Number">
            </div>
            <div class="col-md-4 mb-3">
              <label for="phone" class="form-label">Phone Number</label>
              <input type="tel" class="form-control" [(ngModel)]="application.phone" name="phone" id="phone" placeholder="Enter your phone number">
            </div>
            <div class="col-md-12 mb-3">
              <label for="address" class="form-label">Address</label>
              <input type="text" class="form-control" [(ngModel)]="application.address" name="address" id="address" placeholder="Enter your address">
            </div>
              <div class="col-md-4 mb-3">
                <label for="city" class="form-label">City</label>
                <input type="text" class="form-control" [(ngModel)]="application.city" name="city" id="city" placeholder="Enter your city">
              </div>
              <div class="col-md-4 mb-3">
                <label for="state" class="form-label">State</label>
                <input type="text" class="form-control" [(ngModel)]="application.state" name="state" id="state" placeholder="Enter your state">
              </div>
              <div class="col-md-4 mb-3">
                <label for="zip" class="form-label">Zip Code</label>
                <input type="text" class="form-control" [(ngModel)]="application.zipCode" name="zip" id="zip" placeholder="Enter your zip code">
              </div>
              <div class="col-md-4 mb-3">
                <label for="income" class="form-label">Annual Income</label>
                <input type="number" class="form-control" [(ngModel)]="application.annualIncome" name="income" id="income" placeholder="Enter your annual income">
              </div>
            <div class="col-md-4 mb-3">
              <label for="employeeStatus" class="form-label">Employee Status</label>
              <select class="form-select" placeholder="Select Status" name="employeeStatus" [(ngModel)]="application.employmentStatus" id="employeeStatus">
                <option selected disabled>Select your status</option>
                <option value="employed">Employed</option>
                <option value="self-employed">Self-employed</option>
                <option value="unemployed">Unemployed</option>
                <option value="student">Student</option>
              </select>
            </div>
            <div class="col-md-4 mb-3">
              <label for="creditScore" class="form-label">Credit Score</label>
              <input type="number" class="form-control" [(ngModel)]="application.creditScore" id="creditScore" name="creditScore" placeholder="Enter your credit score">
            </div>
            <div class="col-md-12 mb-3">
              <label for="message" class="form-label">Message</label>
              <textarea class="form-control" [(ngModel)]="application.assets" id="message" name="message"  rows="4" placeholder="Enter any additional information"></textarea>
            </div>
            <button type="submit" class="btn btn-primary w-100" (click)="onSubmit()">Submit Application</button>
          </div>
          </form>
        </div>
      </div>
      <div class="col-md-5">
        <div class="form-container">
          <h4 class="text-center mb-4">Add Loan Details</h4>
          <form>
            <div class="row">
              <div class="col-md-4 mb-3">
                  <label for="bankName" class="form-label">Bank Name</label>
                  <input type="text"  class="form-control" [(ngModel)]="loan.bankName" id="bankName" name="bankName[]" placeholder="Enter Bank Name">
              </div>
              <div class="col-md-4 mb-3">
                <label for="loanAmount" class="form-label">Loan Amount</label>
                <input type="number"  class="form-control" [(ngModel)]="loan.loanAmount" id="loanAmount" name="loanamount[]" placeholder="Enter loan amount">
            </div>
              <div class="col-md-4 mb-3">
                  <label for="emi" class="form-label">EMI</label>
                  <input type="number" class="form-control" [(ngModel)]="loan.emi" id="emi"  name="emi[]" placeholder="Enter EMI amount">
              </div>
              <button type="button" class="btn btn-primary w-100" (click)="addLoan()">Add Another Loan</button>
            </div>
          </form>
      </div>
      
      <div class="table-container">
          <h4 class="text-center mb-3">Loan Summary</h4>
          <table class="table table-bordered">
              <thead class="table-dark">
                  <tr>
                      <th>Sr No</th>
                      <th>Bank Name</th>
                      <th>Loan Amount</th>
                      <th>EMI</th>
                  </tr>
              </thead>
              @if (application.Loans.length === 0) {
                <tbody>
                    <!-- Table rows will go here -->
                    <tr>
                        <td colspan="4" class="text-center">No loan data added yet.</td>
                    </tr>
                </tbody>
              }
              
              @else {
              <tbody>
                  <!-- Table rows will go here -->
                  @for (item of application.Loans; track $index) {
                  <tr>
                      <td>{{$index+1}}</td>
                      <td>{{item.bankName}}</td>
                      <td>{{item.loanAmount}}</td>
                      <td>{{item.emi}}</td>
                  </tr>
                }
              </tbody>
            }
          </table>
      </div>
      </div>
    </div>
    
  </div>
  
  
  